production: 0
route:
# forbid hidden files, and parent directory access
  - url: \/\..*
    forbid: true

  - url: \/enjs.js
    rewrite: vendor/phoxy/enjs/enjs.js
    max_age: 25200 # 1 week

  - url: \/less
    script: engine/less.php
    max_age: 25200 # 1 week

  - url: \/.+\.(js|css)$
    static: true
    compress: true
    minify: true
    max_age: 25200 # 1 week

  - url: \/(.+\.ejs)$
    static: true
    compress: true
    mime: text/ejs
    max_age: 25200 # 1 week

  - url: \/assets\/(.+\.png)$
    static: true
    mime: image/png
    max_age: 25200 # 1 week

  - url: \/assets\/(.+\.jpg)$
    static: true
    mime: image/jpg
    max_age: 25200 # 1 week

  - url: \/assets\/(.+\.ttf)$
    static: true
    mime: image/jpg
    max_age: 25200 # 1 week

  - url: \/robots\.txt
    rewrite: /api/utils/robot/robot

  - url: \/sitemap\.xml
    rewrite: /api/utils/robot/sitemap

  - url: \/api\/?$
    rewrite: /api/main/home

  - url: \/api.*
    script: engine/rpc.php

  - url: \/.*
    script: engine/coldstart.php
